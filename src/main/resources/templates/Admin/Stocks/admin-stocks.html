<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Акции</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- JQVMap -->
    <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/adminlte.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
    <!-- summernote -->
    <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

    <style type="text/css">/* Chart.js */
    @keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}</style>

    <script src="plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/adminlte.js"></script>

    <!-- PAGE PLUGINS -->
    <!-- jQuery Mapael -->
    <script src="plugins/jquery-mousewheel/jquery.mousewheel.js"></script>
    <script src="plugins/raphael/raphael.min.js"></script>
    <script src="plugins/jquery-mapael/jquery.mapael.min.js"></script>
    <script src="plugins/jquery-mapael/maps/usa_states.min.js"></script>
    <!-- ChartJS -->
    <script src="plugins/chart.js/Chart.min.js"></script>

    <!-- AdminLTE for demo purposes -->
    <script src="dist/js/demo.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="dist/js/pages/dashboard2.js"></script>
    <style>
        /*  #info tr {
              display: none;
          }*/

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <style>
        TABLE {
            width: 95%; /* Ширина таблицы */
            height: 60%; /* Высота таблицы */

        }

        .dropbtn {
            background-color: white;
            color: black;
            padding: 16px;
            font-size: 16px;
            border: none;
            cursor: pointer;

        }

        .list { list-style: none;}

        .dropbtn:hover, .dropbtn:focus {
            background: linear-gradient(to left, white, Gainsboro);
        }

        .dropdown {
            position: relative;
            list-style: none;

        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: LightGrey;
            min-width: 160px;
            overflow: auto;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.5);
            z-index: 1;

        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;

        }

        .dropdown a:hover {background-color: #ddd;}
        .show {display: block;}
        body {
            background-image: url("https://acegif.com/wp-content/gif/outerspace-6.gif"); /* выходим из папки css на уровень вверх, и заходим в папку img */
        }
    </style>
    <style>
        .modal_div, .modal_div2 {
            width: 300px;
            height: 300px; /* Рaзмеры дoлжны быть фиксирoвaны */
            border-radius: 5px;
            border: 3px #000 solid;
            background: #fff;
            position: fixed; /* чтoбы oкнo былo в видимoй зoне в любoм месте */
            top: 45%; /* oтступaем сверху 45%, oстaльные 5% пoдвинет скрипт */
            left: 50%; /* пoлoвинa экрaнa слевa */
            margin-top: -150px;
            margin-left: -150px; /* oтступaем влевo и вверх минус пoлoвину ширины и высoты сooтветственнo */
            display: none; /* в oбычнoм сoстoянии oкнa не дoлжнo быть */
            opacity: 0; /* пoлнoстью прoзрaчнo для aнимирoвaния */
            z-index: 5; /* oкнo дoлжнo быть нaибoлее бoльшем слoе */
            padding: 20px 10px;
        }
        /* Кнoпкa зaкрыть для тех ктo в тaнке) */
        .modal_close, .modal_close2 {
            width: 21px;
            height: 21px;
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            display: block;
        }
        /* Пoдлoжкa */
        #overlay, #overlay2 {
            z-index:3; /* пoдлoжкa дoлжнa быть выше слoев элементoв сaйтa, нo ниже слoя мoдaльнoгo oкнa */
            position:fixed; /* всегдa перекрывaет весь сaйт */
            background-color:#000; /* чернaя */
            opacity:0.8; /* нo немнoгo прoзрaчнa */
            -moz-opacity:0.8; /* фикс прозрачности для старых браузеров */
            filter:alpha(opacity=80);
            width:100%;
            height:100%; /* рaзмерoм вo весь экрaн */
            top:0; /* сверху и слевa 0, oбязaтельные свoйствa! */
            left:0;
            cursor:pointer;
            display:none; /* в oбычнoм сoстoянии её нет) */
        }

        img[src="#"] {
            display: none;

        }

        .div-top-banners {
            display: inline-block;
            margin-left: 20px;
            padding-right: 10px;
            margin-right: 10px;
        }
    </style>
</head>

<body>

<div class="wrapper" style="margin:5%; border-style: groove; border-width: 2px;">

    <!-- Блок бокового навигационного меню, начало-->
    <block th:insert="blocks/side-menu.html :: side-menu"></block>
    <!-- Блок бокового навигационного меню, конец-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <hr style="width: 96%">
    <div style="margin-left: 17%; margin-right: 2%; margin-top: 2%; margin-bottom: 2%; background-color: #9e9ca6" >
        <div style="border-style: groove; border-radius: 15px; width: 95%; height: auto; margin-bottom: 50px; margin-left: 30px">

    <div style="margin-top: 20px">
        <h3 align="center">Список акций</h3>
        <button type="button" class="btn btn-success" style="margin-left: 1010px"><a style="color:white" th:href="@{/admin-stock-page}">+Создать акцию</a></button>

    </div>
    <br><br>
    <div style="width:96%">
        <table class="table table-striped" id="info">
            <thead style="background-color: palevioletred">
            <tr>
                <td>Название</td>
                <td>Дата создания</td>
                <td>Статус</td>

                <td style="visibility: hidden">  </td>
                <td style="visibility: hidden">  </td>
            </tr>
            </thead>
            <tbody th:each="el : ${stocks}" >
            <tr>
                <td th:text="${el.title}"></td>
                <td th:text="${el.publicDate}"></td>
                <td th:if="${el.status} == true" >Вкл.</td>
                <td th:if="${el.status} == false" >Выкл.</td>

                <td><a th:href="'/admin-stock-page-edit/'+${el.id}"><button title="Редактировать акцию"><i class="bi bi-pencil-fill"></i></button>
                </a></td>

                <td>   <form th:action="'/admin-stocks/'+${el.id}+'/remove'" method="post">
                    <button title="Удалить акцию" type="submit"><i class="bi bi-trash-fill"></i></button>
                </form>
                </td>
            </tr>
            </tbody>
        </table>


        <br><br>
    </div>

        </div>
    </div>
</div>


<script>
    function tableSearch() {
        var phrase = document.getElementById('search-text');
        var table = document.getElementById('info');
        var regPhrase = new RegExp(phrase.value, 'i');
        var flag = false;
        for (var i = 1; i < table.rows.length; i++) {
            flag = false;
            for (var j = table.rows[i].cells.length - 1; j >= 0; j--) {
                flag = regPhrase.test(table.rows[i].cells[j].innerHTML);
                if (flag) break;
            }
            if (flag) {
                table.rows[i].style.display = "";
            } else {
                table.rows[i].style.display = "none";
            }

        }
    }
</script>


<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="plugins/moment/moment.min.js"></script>
<script src="plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="dist/js/pages/dashboard.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>
